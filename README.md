# 小鼠行为监测系统项目

## 项目概述

本项目旨在开发一套自动化系统，用于在自然饲养环境下对小老鼠进行24小时无干扰状态监测与行为统计，重点关注对医学/药理学研究更具价值的特定状态（如睡眠、排便、咳嗽、抽搐、挠鼻等），以支持药物疗效评价等研究。

## 核心价值

- **医学研究价值**：识别对疾病和药物反应更敏感的行为状态
- **科研效率革命**：24小时自动化监测，释放研究人员精力
- **巨大市场潜力**：满足更广泛的药理病理实验需求
- **显著成本节约**：自动化统计降低人工成本十倍甚至二十倍

## 技术架构

- **数据采集端**：Python + OpenCV + YOLO + DeepSORT
- **后端服务**：Spring Boot + MySQL + Redis
- **前端展示**：Vue 3 + Element Plus
- **移动端**：uni-app（可选）

## 文档结构

### docs/ 文件夹包含以下核心文档：

1. **[技术选型建议.md](./docs/技术选型建议.md)**
   - Python数据采集端技术选型（OpenCV、YOLO、DeepSORT等）
   - Spring Boot后端脚手架推荐
   - 其他组件选型建议（MySQL、Vue.js、uni-app等）
   - 许可证兼容性分析
   - 风险评估和开发建议

2. **[系统设计文档.md](./docs/系统设计文档.md)**
   - 系统架构图和数据流向
   - 核心模块设计（采集端、后端、前端）
   - 关键接口定义（RESTful API、WebSocket）
   - 数据库设计
   - 部署架构和性能指标
   - 安全设计

3. **[通俗技术介绍.md](./docs/通俗技术介绍.md)**
   - 面向医学研究人员的非技术说明
   - 系统工作原理解释
   - 解决的问题和带来的价值
   - 使用场景和投资回报分析
   - 常见问题解答

## 系统登录信息

**若依管理系统登录信息：**
- 用户名：`admin`
- 密码：`lczj*512191`
- 访问地址：http://localhost:8080

**注意事项：**
- 系统已禁用验证码功能，可直接使用用户名密码登录
- 首次登录后建议修改默认密码
- 系统集成了完整的权限管理功能

## 项目状态

**当前阶段**：后端核心功能开发完成 ✅

### 已完成
- ✅ 技术选型和系统设计
- ✅ RuoYi后端框架集成
- ✅ Docker环境配置
- ✅ MySQL数据库搭建
- ✅ 后端服务部署脚本
- ✅ **Controller接口规范统一**（2025-08-09）
  - 统一使用 `@PostMapping("/XXX")` 接口风格
  - 修复删除接口400错误问题
  - 完成TMouseController、TBehaviorDataController、TDeviceController、TExperimentController统一改造
- ✅ **一键编译部署脚本**（2025-08-09）
  - 创建自动化部署脚本 `scripts/deploy.ps1`
  - 集成编译、打包、Docker构建、服务启动全流程
  - 支持一键完成从代码修改到服务部署

### 进行中
- 🔄 前端Vue.js应用开发
- 🔄 Python数据采集端开发

### 待开始
- ⏳ 行为识别算法集成
- ⏳ 移动端应用开发
- ⏳ 系统集成测试

## 快速开始

### 环境要求
- Docker Desktop
- PowerShell（Windows）

### 一键启动后端服务
```powershell
# 克隆项目后，在项目根目录执行
.\scripts\quick-start.ps1
```

服务启动后访问：http://localhost:8092

### 脚本工具

项目提供了完整的自动化脚本，位于 `scripts/` 目录：

- **`quick-start.ps1`** - 一键启动整个后端环境（推荐）
- **`deploy.ps1`** - 一键编译部署脚本（开发专用）
  - 自动编译打包项目
  - 重新构建Docker镜像
  - 启动后端服务
  - 使用方法：`PowerShell -ExecutionPolicy Bypass -File "D:\mouse\scripts\deploy.ps1"`
- **`check-environment.ps1`** - 环境检查和诊断
- **`init-database.ps1`** - 数据库初始化
- **`start-backend.ps1`** - 手动启动后端服务

详细使用说明请参考：[scripts/README.md](./scripts/README.md)

**已完成**：
- ✅ 技术选型调研和建议
- ✅ 系统架构设计
- ✅ 核心模块划分
- ✅ 关键接口定义
- ✅ 数据库设计
- ✅ 通俗技术介绍文档

**下一步计划**：
1. 评估技术选型和设计方案
2. 搭建开发环境
3. 实现基础框架
4. 开发核心功能模块

## 关键特性

### 监测能力
- 24小时不间断、非侵入式监测
- 红外摄像头解决夜间监测问题
- 复杂垫料背景下的准确识别
- 同时追踪5只小鼠并准确区分
- 识别关键行为：睡眠、排便、咳嗽、抽搐、挠鼻等

### 数据分析
- 行为状态量化统计（频率、时长、时间段）
- 按时间段、个体、组别汇总分析
- 支持药物疗效评价研究
- 实时数据推送和历史数据查询

### 系统优势
- 高精度识别（>90%准确率）
- 多任务并行处理
- 持续学习和改进能力
- 完整的数据记录和追溯

## 技术亮点

1. **多目标追踪**：解决同笼多鼠的身份识别和追踪问题
2. **细微行为识别**：突破传统系统只能识别明显运动的局限
3. **环境适应性**：在复杂垫料环境下稳定工作
4. **24小时监测**：红外技术实现夜间无干扰监测
5. **人工智能驱动**：深度学习模型持续优化识别精度

## 应用场景

- **药物疗效评价**：通过行为变化评估药物效果
- **疾病模型研究**：监测疾病进展过程中的行为变化
- **昼夜节律研究**：分析行为的时间分布规律
- **个体化医学研究**：识别个体间的行为差异

## 联系方式

如有任何问题或建议，请通过以下方式联系：

- 项目负责人：[王嘉宁|李陈子佳]
- 邮箱：[mailtowjn@gmail.com]
- 电话：[待填写]

---

## 📋 项目当前状态

### 🎯 设计阶段完成情况
- ✅ **技术选型完成**：确定Python + Spring Boot + Vue/uni-app技术栈
- ✅ **系统架构设计完成**：完整的模块化架构和数据库设计
- ✅ **通信协议定义完成**：RESTful API和WebSocket实时通信规范
- ✅ **开发计划制定完成**：详细的8周开发里程碑规划
- ✅ **Docker部署方案完成**：容器化部署架构和配置
- ✅ **文档体系建立完成**：技术文档、用户文档、开发文档齐全
- ✅ **后端接口规范统一**：统一Controller接口风格，修复删除接口问题
- ✅ **自动化部署流程**：创建一键编译部署脚本，提升开发效率

### 🚀 即将进入开发阶段
- **第1-2周**：Spring Boot后端基础架构搭建
- **第3-4周**：核心业务模块开发
- **第5周开始**：团队扩展，Python采集端并行开发
- **第6周开始**：数据标注工作启动

### 📊 开发进度预期
- **第1个月目标**：Spring Boot后端核心功能完成度 ≥ 80%
- **第2个月目标**：完整系统集成，Python采集端基础功能完成
- **预计完成时间**：2个月内完成MVP版本

**状态**：✅ 设计阶段完成，准备进入开发阶段