# è®¡ç®—æœºè§†è§‰å°é¼ ç®¡ç†ç³»ç»Ÿ - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## 1. ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

### 1.1 ç³»ç»Ÿæ ¸å¿ƒç‰¹è‰²

æœ¬ç³»ç»Ÿæ˜¯ä¸€å¥—åŸºäºè®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„æ™ºèƒ½åŒ–å°é¼ ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨åˆ›æ–°çš„"å®éªŒé©±åŠ¨"è®¾è®¡æ¶æ„ï¼Œæ ¸å¿ƒç‰¹è‰²åŒ…æ‹¬ï¼š
- **å®éªŒé©±åŠ¨æ¶æ„**ï¼šä»¥å®éªŒé¡¹ç›®ä¸ºèµ·ç‚¹ï¼Œé€šè¿‡å®éªŒä¸“å±äºŒç»´ç å®ç°ç¬¼å­ä¸å®éªŒçš„ç›´æ¥ç»‘å®š
- **æ™ºèƒ½ç»‘å®šæœºåˆ¶**ï¼šæ‘„åƒå¤´ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å®éªŒäºŒç»´ç ï¼Œå®ç°ç¬¼å­ä¸å®éªŒçš„æ— ç¼ç»‘å®š
- **è®¡ç®—æœºè§†è§‰è¯†åˆ«**ï¼šåŸºäºæ·±åº¦å­¦ä¹ çš„å°é¼ è‡ªåŠ¨è¯†åˆ«å’Œè¡Œä¸ºåˆ†æ
- **å…¨æµç¨‹è‡ªåŠ¨åŒ–**ï¼šä»å®éªŒåˆ›å»ºåˆ°æ•°æ®åˆ†æçš„å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹
- **å®æ—¶æ™ºèƒ½ç›‘æ§**ï¼šæ¯«ç§’çº§çš„å®æ—¶æ•°æ®å¤„ç†å’Œå¼‚å¸¸é¢„è­¦
- **ç§»åŠ¨ç«¯æ”¯æŒ**ï¼šé€šè¿‡æ‰«æå®éªŒäºŒç»´ç ï¼Œæ”¯æŒç§»åŠ¨ç«¯æŸ¥çœ‹å’Œæ“ä½œ
- **ä¸“ä¸šæ•°æ®åˆ†æ**ï¼šé¢å‘ç§‘ç ”éœ€æ±‚çš„æ·±åº¦æ•°æ®æŒ–æ˜å’Œç»Ÿè®¡åˆ†æ

### 1.2 å½“å‰å®ç°çŠ¶æ€

**å·²å®Œæˆæ¨¡å—ï¼š**
- âœ… åç«¯æœåŠ¡æ¡†æ¶ (Spring Boot + è‹¥ä¾æ¡†æ¶)
- âœ… æ•°æ®åº“è®¾è®¡ (MySQL)
- âœ… ç¼“å­˜ç³»ç»Ÿ (Redis)
- âœ… æ–‡ä»¶å­˜å‚¨ (MinIO)
- âœ… Dockerå®¹å™¨åŒ–éƒ¨ç½²
- âœ… è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
- âœ… RESTful APIæ¥å£è§„èŒƒ
- âœ… ç”¨æˆ·æƒé™ç®¡ç†ç³»ç»Ÿ
- âœ… ç³»ç»Ÿæ—¥å¿—å’Œå®¡è®¡åŠŸèƒ½

**å¼€å‘ä¸­æ¨¡å—ï¼š**
- ğŸ”„ å‰ç«¯Vue.jsç•Œé¢å¼€å‘
- ğŸ”„ Excelæ•°æ®å¯¼å‡ºåŠŸèƒ½
- ğŸ”„ ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–
- ğŸ”„ APIæ¥å£å®Œå–„

**å¾…å¼€å‘æ¨¡å—ï¼š**
- â³ è®¡ç®—æœºè§†è§‰è¯†åˆ«å¼•æ“ (Python + OpenCV + PyTorch)
- â³ äºŒç»´ç ç®¡ç†ç³»ç»Ÿ
- â³ å®æ—¶æ•°æ®é‡‡é›†ç«¯
- â³ æ™ºèƒ½è¡Œä¸ºåˆ†æç®—æ³•
- â³ å®æ—¶ç›‘æ§ç•Œé¢
- â³ æ™ºèƒ½æŠ¥è¡¨ç”Ÿæˆç³»ç»Ÿ
- â³ ç§»åŠ¨ç«¯åº”ç”¨ (å¯é€‰)

### 1.3 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 è®¡ç®—æœºè§†è§‰å°é¼ ç®¡ç†ç³»ç»Ÿ v1.0                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯å±•ç¤ºå±‚ (Presentation Layer) - å¾…å¼€å‘                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Webç®¡ç†ç«¯     â”‚    â”‚   ç§»åŠ¨ç«¯App     â”‚                    â”‚
â”‚  â”‚  (Vue3+Element) â”‚    â”‚   (uni-app)     â”‚                    â”‚
â”‚  â”‚ â€¢ ç¬¼å­ç®¡ç†ç•Œé¢  â”‚    â”‚ â€¢ äºŒç»´ç æ‰«æ    â”‚                    â”‚
â”‚  â”‚ â€¢ å®æ—¶ç›‘æ§ç•Œé¢  â”‚    â”‚ â€¢ å¿«é€Ÿæ¿€æ´»ç¬¼å­  â”‚                    â”‚
â”‚  â”‚ â€¢ æ•°æ®åˆ†æç•Œé¢  â”‚    â”‚ â€¢ çŠ¶æ€æŸ¥çœ‹      â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸šåŠ¡æœåŠ¡å±‚ (Business Service Layer) - å·²å®Œæˆ                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              Spring Boot åç«¯æœåŠ¡                          â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚
â”‚  â”‚  â”‚  äºŒç»´ç ç®¡ç† â”‚ â”‚  è§†è§‰è¯†åˆ«   â”‚ â”‚  æ•°æ®ç®¡ç†   â”‚          â”‚â”‚
â”‚  â”‚  â”‚   æ¨¡å—     â”‚ â”‚    æ¨¡å—     â”‚ â”‚    æ¨¡å—     â”‚          â”‚â”‚
â”‚  â”‚  â”‚ â€¢ ç¬¼å­æ³¨å†Œ  â”‚ â”‚ â€¢ å›¾åƒå¤„ç†  â”‚ â”‚ â€¢ è¡Œä¸ºåˆ†æ  â”‚          â”‚â”‚
â”‚  â”‚  â”‚ â€¢ æ¿€æ´»ç®¡ç†  â”‚ â”‚ â€¢ ç›®æ ‡æ£€æµ‹  â”‚ â”‚ â€¢ ç»Ÿè®¡æŠ¥è¡¨  â”‚          â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¡ç®—æœºè§†è§‰å±‚ (Computer Vision Layer) - å¾…å¼€å‘                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              Python AIè¯†åˆ«å¼•æ“                              â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚
â”‚  â”‚  â”‚  è§†é¢‘é‡‡é›†   â”‚ â”‚  æ·±åº¦å­¦ä¹    â”‚ â”‚  è¡Œä¸ºè¯†åˆ«   â”‚          â”‚â”‚
â”‚  â”‚  â”‚   æ¨¡å—     â”‚ â”‚   è¯†åˆ«æ¨¡å—  â”‚ â”‚    æ¨¡å—     â”‚          â”‚â”‚
â”‚  â”‚  â”‚ â€¢ é«˜æ¸…æ‘„åƒ  â”‚ â”‚ â€¢ YOLOæ£€æµ‹  â”‚ â€¢ ç¡çœ è¯†åˆ«   â”‚          â”‚â”‚
â”‚  â”‚  â”‚ â€¢ å®æ—¶æµå¤„ç†â”‚ â”‚ â€¢ ç›®æ ‡è·Ÿè¸ª  â”‚ â€¢ å’³å—½è¯†åˆ«   â”‚          â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å­˜å‚¨å±‚ (Data Storage Layer) - å·²å®Œæˆ                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   MySQL     â”‚ â”‚    Redis    â”‚ â”‚   MinIO     â”‚              â”‚
â”‚  â”‚ â€¢ ç¬¼å­æ¡£æ¡ˆ  â”‚ â”‚ â€¢ å®æ—¶ç¼“å­˜  â”‚ â”‚ â€¢ è§†é¢‘æ–‡ä»¶  â”‚              â”‚
â”‚  â”‚ â€¢ å°é¼ ä¿¡æ¯  â”‚ â”‚ â€¢ ä¼šè¯ç®¡ç†  â”‚ â”‚ â€¢ å›¾åƒæ•°æ®  â”‚              â”‚
â”‚  â”‚ â€¢ è¡Œä¸ºæ•°æ®  â”‚ â”‚ â€¢ è®¡ç®—ç»“æœ  â”‚ â”‚ â€¢ åˆ†ææŠ¥å‘Š  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer) - å·²å®Œæˆ                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚        Dockerå®¹å™¨åŒ– + è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å®éªŒé©±åŠ¨æ•°æ®æµå‘å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ›å»ºå®éªŒ   â”‚â”€â”€â”€â”€â–¶â”‚ ç”Ÿæˆå®éªŒç   â”‚â”€â”€â”€â”€â–¶â”‚  å®éªŒä¿¡æ¯   â”‚
â”‚  (Webç«¯)    â”‚     â”‚  (åç«¯API)  â”‚     â”‚  (æ•°æ®åº“)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ‰«æå®éªŒç   â”‚â”€â”€â”€â”€â–¶â”‚  ç¬¼å­ç»‘å®š   â”‚â”€â”€â”€â”€â–¶â”‚  ç»‘å®šå…³ç³»   â”‚
â”‚ (æ‘„åƒå¤´/ç§»åŠ¨)â”‚     â”‚  (è‡ªåŠ¨ç»‘å®š) â”‚     â”‚  (æ•°æ®åº“)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ å°é¼    â”‚â”€â”€â”€â”€â–¶â”‚ è‡ªåŠ¨è¯†åˆ«ä¸ŠæŠ¥â”‚â”€â”€â”€â”€â–¶â”‚  å°é¼ ä¿¡æ¯   â”‚
â”‚  (äººå·¥æ“ä½œ) â”‚     â”‚ (AIè¯†åˆ«)    â”‚     â”‚  (æ•°æ®åº“)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸€é”®å¯åŠ¨    â”‚â”€â”€â”€â”€â–¶â”‚  å®æ—¶ç›‘æ§   â”‚â”€â”€â”€â”€â–¶â”‚  è¡Œä¸ºæ•°æ®   â”‚
â”‚ (å°±ç»ªæ£€æŸ¥)  â”‚     â”‚ (AIåˆ†æ)    â”‚     â”‚  (å®æ—¶å­˜å‚¨) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é«˜æ¸…æ‘„åƒ  â”‚â”€â”€â”€â”€â–¶â”‚ AIè§†è§‰è¯†åˆ«  â”‚â”€â”€â”€â”€â–¶â”‚  è¡Œä¸ºæ•°æ®   â”‚
â”‚  (è§†é¢‘æµ)   â”‚     â”‚ (æ·±åº¦å­¦ä¹ )  â”‚     â”‚  (å®æ—¶å­˜å‚¨) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â–¼
       â”‚                    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚            â”‚   MySQL     â”‚
       â”‚                    â”‚            â”‚ â€¢ ç¬¼å­æ¡£æ¡ˆ  â”‚
       â”‚                    â”‚            â”‚ â€¢ å°é¼ ä¿¡æ¯  â”‚
       â”‚                    â”‚            â”‚ â€¢ è¡Œä¸ºè®°å½•  â”‚
       â”‚                    â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â”‚                    â–¼                    â”‚
       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
       â”‚            â”‚    Redis    â”‚              â”‚
       â”‚            â”‚ â€¢ å®æ—¶ç¼“å­˜  â”‚              â”‚
       â”‚            â”‚ â€¢ è®¡ç®—ç»“æœ  â”‚              â”‚
       â”‚            â”‚ â€¢ ä¼šè¯ç®¡ç†  â”‚              â”‚
       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
       â”‚                    â”‚                    â”‚
       â–¼                    â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚                    â”‚
â”‚   MinIO     â”‚             â”‚                    â”‚
â”‚ â€¢ è§†é¢‘æ–‡ä»¶  â”‚             â”‚                    â”‚
â”‚ â€¢ å›¾åƒæ•°æ®  â”‚             â”‚                    â”‚
â”‚ â€¢ åˆ†ææŠ¥å‘Š  â”‚             â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚                    â”‚
       â”‚                    â”‚                    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Spring Boot â”‚
                    â”‚ â€¢ RESTful APIâ”‚
                    â”‚ â€¢ WebSocket â”‚
                    â”‚ â€¢ å®æ—¶æ¨é€  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Vue.js    â”‚
                    â”‚ â€¢ å®æ—¶ç›‘æ§  â”‚
                    â”‚ â€¢ æ•°æ®åˆ†æ  â”‚
                    â”‚ â€¢ æŠ¥è¡¨ç”Ÿæˆ  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 2.1 åç«¯æœåŠ¡ (Spring Boot) - å·²å®Œæˆ

#### 2.1.1 å®éªŒé©±åŠ¨ç®¡ç†æ¨¡å—

**å®éªŒç®¡ç† (ExperimentController)**
```java
@RestController
@RequestMapping("/experiment")
public class ExperimentController {
    
    @PostMapping("/create")
    public AjaxResult createExperiment(@RequestBody ExperimentCreateDto dto) {
        // åˆ›å»ºå®éªŒé¡¹ç›®ï¼Œç”Ÿæˆå®éªŒä¸“å±äºŒç»´ç 
        // è¿”å›å®éªŒIDå’ŒäºŒç»´ç å›¾ç‰‡
    }
    
    @PostMapping("/bind-cage")
    public AjaxResult bindCage(@RequestBody CageBindDto dto) {
        // é€šè¿‡æ‰«æå®éªŒäºŒç»´ç è‡ªåŠ¨ç»‘å®šç¬¼å­
        // å»ºç«‹å®éªŒä¸ç¬¼å­çš„å…³è”å…³ç³»
    }
    
    @PostMapping("/add-mouse")
    public AjaxResult addMouse(@RequestBody MouseAddDto dto) {
        // å‘ç»‘å®šçš„ç¬¼å­æ·»åŠ å°é¼ 
        // è‡ªåŠ¨ä¸ŠæŠ¥å°é¼ ä¿¡æ¯åˆ°å®éªŒç³»ç»Ÿ
    }
    
    @PostMapping("/start/{experimentId}")
    public AjaxResult startExperiment(@PathVariable String experimentId) {
        // ä¸€é”®å¯åŠ¨å®éªŒï¼ˆè‡ªåŠ¨æ£€æŸ¥å°±ç»ªçŠ¶æ€ï¼‰
        // å¯åŠ¨æ‰€æœ‰å…³è”ç¬¼å­çš„ç›‘æ§
    }
    
    @GetMapping("/status/{experimentId}")
    public AjaxResult getExperimentStatus(@PathVariable String experimentId) {
        // è·å–å®éªŒå®æ—¶çŠ¶æ€å’Œè¿›åº¦
        // åŒ…æ‹¬ç¬¼å­çŠ¶æ€ã€å°é¼ çŠ¶æ€ã€æ•°æ®é‡‡é›†çŠ¶æ€
    }
    
    @GetMapping("/list")
    public TableDataInfo getExperimentList(ExperimentQueryDto query) {
        // è·å–å®éªŒåˆ—è¡¨ï¼Œæ”¯æŒç­›é€‰
    }
}```

**ç¬¼å­ç®¡ç† (CageController)**
```java
@RestController
@RequestMapping("/cage")
public class CageController {
    
    @GetMapping("/scan-qr/{qrCode}")
    public AjaxResult scanExperimentQR(@PathVariable String qrCode) {
        // æ‰«æå®éªŒäºŒç»´ç ï¼Œè·å–å®éªŒä¿¡æ¯
        // æ”¯æŒæ‘„åƒå¤´å’Œç§»åŠ¨ç«¯æ‰«ç 
    }
    
    @GetMapping("/status/{cageId}")
    public AjaxResult getCageStatus(@PathVariable String cageId) {
        // è·å–ç¬¼å­å®æ—¶çŠ¶æ€
        // åŒ…æ‹¬ç»‘å®šçš„å®éªŒã€å°é¼ çŠ¶æ€ã€è®¾å¤‡çŠ¶æ€
    }
    
    @GetMapping("/experiment-info/{cageId}")
    public AjaxResult getExperimentInfo(@PathVariable String cageId) {
        // é€šè¿‡ç¬¼å­IDè·å–å…³è”çš„å®éªŒä¿¡æ¯
        // æ”¯æŒç§»åŠ¨ç«¯æŸ¥çœ‹å®éªŒè¯¦æƒ…
    }
}```

**å°é¼ ç®¡ç† (MouseController)**
```java
@RestController
@RequestMapping("/mouse")
public class MouseController {
    
    @PostMapping("/bind")
    public AjaxResult bindMouse(@RequestBody MouseBindDto dto) {
        // å°†å°é¼ ç»‘å®šåˆ°ç¬¼å­
        // è®°å½•å°é¼ åŸºæœ¬ä¿¡æ¯å’Œå®éªŒå‚æ•°
    }
    
    @GetMapping("/info/{mouseId}")
    public AjaxResult getMouseInfo(@PathVariable String mouseId) {
        // è·å–å°é¼ è¯¦ç»†ä¿¡æ¯å’Œå†å²æ•°æ®
    }
    
    @PutMapping("/update")
    public AjaxResult updateMouse(@RequestBody MouseUpdateDto dto) {
        // æ›´æ–°å°é¼ ä¿¡æ¯
    }
}
```

#### 2.1.2 ç³»ç»Ÿç®¡ç†æ¨¡å—

**ç”¨æˆ·ç®¡ç†ï¼š**
- ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- è§’è‰²åˆ†é…å’Œæƒé™æ§åˆ¶
- ç”¨æˆ·ä¿¡æ¯ç»´æŠ¤

**ç³»ç»Ÿé…ç½®ï¼š**
- ç³»ç»Ÿå‚æ•°é…ç½®
- å­—å…¸æ•°æ®ç®¡ç†
- èœå•æƒé™ç®¡ç†

**æ—¥å¿—ç®¡ç†ï¼š**
- æ“ä½œæ—¥å¿—è®°å½•
- ç™»å½•æ—¥å¿—è¿½è¸ª
- ç³»ç»Ÿå¼‚å¸¸æ—¥å¿—

#### 2.1.3 æ•°æ®ç®¡ç†æ¨¡å— (å·²å®Œæˆ)

**æ•°æ®å­˜å‚¨æœåŠ¡ï¼š**
- MySQL: ç¬¼å­æ¡£æ¡ˆã€å°é¼ ä¿¡æ¯ã€è¡Œä¸ºæ•°æ®
- Redis: å®æ—¶ç¼“å­˜ã€ä¼šè¯ç®¡ç†ã€è®¡ç®—ç»“æœ
- MinIO: è§†é¢‘æ–‡ä»¶ã€å›¾åƒæ•°æ®ã€åˆ†ææŠ¥å‘Š

**æ•°æ®å¯¼å‡ºæœåŠ¡ï¼š**
- ExcelæŠ¥è¡¨å¯¼å‡º (æ”¯æŒå¤šç§æ¨¡æ¿)
- PDFæŠ¥å‘Šç”Ÿæˆ (åŒ…å«å›¾è¡¨å’Œç»Ÿè®¡)
- å®æ—¶æ•°æ®ç»Ÿè®¡å’Œåˆ†æ

**APIæ¥å£æœåŠ¡ï¼š**
- RESTful APIè®¾è®¡
- WebSocketå®æ—¶æ¨é€
- ç»Ÿä¸€å“åº”æ ¼å¼å’Œé”™è¯¯å¤„ç†

#### 2.1.4 è®¡ç®—æœºè§†è§‰æœåŠ¡æ¥å£ (å¾…å¼€å‘)

**è§†è§‰è¯†åˆ«æ¥å£ (VisionController)**
```java
@RestController
@RequestMapping("/vision")
public class VisionController {
    
    @PostMapping("/start-monitor/{cageId}")
    public AjaxResult startMonitoring(@PathVariable String cageId) {
        // å¯åŠ¨æŒ‡å®šç¬¼å­çš„è§†è§‰ç›‘æ§
        // é€šçŸ¥Pythonç«¯å¼€å§‹é‡‡é›†å’Œè¯†åˆ«
    }
    
    @PostMapping("/stop-monitor/{cageId}")
    public AjaxResult stopMonitoring(@PathVariable String cageId) {
        // åœæ­¢æŒ‡å®šç¬¼å­çš„ç›‘æ§
    }
    
    @PostMapping("/behavior-data")
    public AjaxResult receiveBehaviorData(@RequestBody BehaviorDataDto data) {
        // æ¥æ”¶Pythonç«¯ä¸ŠæŠ¥çš„è¡Œä¸ºæ•°æ®
        // å®æ—¶å­˜å‚¨å’Œæ¨é€ç»™å‰ç«¯
    }
    
    @GetMapping("/real-time/{cageId}")
    public AjaxResult getRealTimeData(@PathVariable String cageId) {
        // è·å–å®æ—¶ç›‘æ§æ•°æ®
    }
}
```

### 2.2 è®¡ç®—æœºè§†è§‰è¯†åˆ«å¼•æ“ (Python) - å¾…å¼€å‘

#### 2.2.1 è§†é¢‘é‡‡é›†æ¨¡å— (VideoCapture)
```python
class VideoCapture:
    """
    è§†é¢‘é‡‡é›†æ¨¡å—
    è´Ÿè´£ä»çº¢å¤–æ‘„åƒå¤´è·å–é«˜æ¸…è§†é¢‘æµ
    """
    def __init__(self, camera_id, cage_id, resolution=(1920, 1080)):
        self.camera_id = camera_id
        self.cage_id = cage_id
        self.resolution = resolution
        self.cap = None
        self.is_recording = False
        
    def start_capture(self):
        """å¼€å§‹è§†é¢‘é‡‡é›†ï¼Œæ”¯æŒå¤šè·¯å¹¶å‘"""
        pass
        
    def get_frame(self):
        """è·å–é«˜æ¸…å¸§å›¾åƒï¼Œé¢„å¤„ç†ä¼˜åŒ–"""
        pass
        
    def save_video_segment(self, duration=60):
        """ä¿å­˜è§†é¢‘ç‰‡æ®µåˆ°MinIO"""
        pass
        
    def stop_capture(self):
        """åœæ­¢é‡‡é›†ï¼Œæ¸…ç†èµ„æº"""
        pass
```

#### 2.2.2 æ·±åº¦å­¦ä¹ æ£€æµ‹æ¨¡å— (MouseDetector)
```python
class MouseDetector:
    """
    å°é¼ æ£€æµ‹æ¨¡å—
    åŸºäºYOLOè¿›è¡Œé«˜ç²¾åº¦å°é¼ ç›®æ ‡æ£€æµ‹
    """
    def __init__(self, model_path="models/yolo_mouse.pt"):
        self.model = self.load_yolo_model(model_path)
        self.confidence_threshold = 0.7
        
    def detect_mice(self, frame):
        """ä½¿ç”¨YOLOæ£€æµ‹å°é¼ ä½ç½®å’Œæ•°é‡"""
        pass
        
    def extract_features(self, detection_box, frame):
        """æå–å°é¼ ç‰¹å¾ç”¨äºè¡Œä¸ºåˆ†æ"""
        pass
        
    def load_yolo_model(self, model_path):
        """åŠ è½½è®­ç»ƒå¥½çš„YOLOæ¨¡å‹"""
        pass
```

#### 2.2.3 å¤šç›®æ ‡è¿½è¸ªæ¨¡å— (MouseTracker)
```python
class MouseTracker:
    """
    å¤šç›®æ ‡è¿½è¸ªæ¨¡å—
    åŸºäºDeepSORTè¿›è¡Œå°é¼ è¿½è¸ªï¼Œä¿æŒIDä¸€è‡´æ€§
    """
    def __init__(self, max_disappeared=30):
        self.trackers = {}
        self.max_disappeared = max_disappeared
        self.next_id = 0
        
    def update_tracks(self, detections):
        """æ›´æ–°å¤šç›®æ ‡è¿½è¸ªï¼Œä¿æŒIDä¸€è‡´æ€§"""
        pass
        
    def get_mouse_trajectories(self):
        """è·å–å°é¼ è¿åŠ¨è½¨è¿¹"""
        pass
        
    def calculate_movement_metrics(self, mouse_id):
        """è®¡ç®—è¿åŠ¨æŒ‡æ ‡ï¼šé€Ÿåº¦ã€è·ç¦»ã€æ´»è·ƒåº¦"""
        pass
```

#### 2.2.4 æ™ºèƒ½è¡Œä¸ºè¯†åˆ«æ¨¡å— (BehaviorRecognizer)
```python
class BehaviorRecognizer:
    """
    è¡Œä¸ºè¯†åˆ«æ¨¡å—
    è¯†åˆ«ç¡çœ ã€å’³å—½ã€æŒ é¼»ç­‰ç‰¹å®šè¡Œä¸ºæ¨¡å¼
    """
    def __init__(self, model_path="models/behavior_classifier.pt"):
        self.model = self.load_behavior_model(model_path)
        self.behavior_types = ['sleeping', 'eating', 'drinking', 'grooming', 'exploring']
        
    def recognize_behavior(self, track_sequence):
        """åŸºäºæ—¶åºæ•°æ®è¯†åˆ«è¡Œä¸ºæ¨¡å¼"""
        pass
        
    def detect_abnormal_behavior(self, behavior_history):
        """æ£€æµ‹å¼‚å¸¸è¡Œä¸ºæ¨¡å¼"""
        pass
        
    def generate_behavior_statistics(self, cage_id, time_range):
        """ç”Ÿæˆè¡Œä¸ºç»Ÿè®¡æŠ¥å‘Š"""
        pass
```

#### 2.2.5 å®æ—¶æ•°æ®ä¸ŠæŠ¥æ¨¡å— (DataReporter)
```python
class DataReporter:
    """
    æ•°æ®ä¸ŠæŠ¥æ¨¡å—
    å°†è¯†åˆ«ç»“æœå®æ—¶ä¸ŠæŠ¥åˆ°åç«¯æœåŠ¡
    """
    def __init__(self, server_url, cage_id):
        self.server_url = server_url
        self.cage_id = cage_id
        self.websocket = None
        
    def report_real_time_data(self, behavior_data):
        """å®æ—¶ä¸ŠæŠ¥è¡Œä¸ºæ•°æ®åˆ°åç«¯"""
        pass
        
    def upload_video_segment(self, video_path):
        """ä¸Šä¼ è§†é¢‘ç‰‡æ®µåˆ°MinIO"""
        pass
        
    def send_heartbeat(self):
        """å‘é€è®¾å¤‡å¿ƒè·³ï¼Œç¡®ä¿è¿æ¥çŠ¶æ€"""
        pass
        
    def handle_server_commands(self, command):
        """å¤„ç†æœåŠ¡ç«¯æ§åˆ¶å‘½ä»¤"""
        pass
```

### 2.4 åç«¯æœåŠ¡ (Spring Boot) - å·²å®Œæˆ

#### 2.2.1 ç³»ç»Ÿç®¡ç†æ¥å£
```java
@RestController
@RequestMapping("/system")
public class SystemController {
    // ç”¨æˆ·ç®¡ç†
    @GetMapping("/user/list")
    public TableDataInfo list(SysUser user)
    
    @PostMapping("/user")
    public AjaxResult add(@RequestBody SysUser user)
    
    @PutMapping("/user")
    public AjaxResult edit(@RequestBody SysUser user)
    
    @DeleteMapping("/user/{userIds}")
    public AjaxResult remove(@PathVariable Long[] userIds)
}
```

#### 2.2.2 æ•°æ®å¯¼å‡ºæ¥å£
```java
@RestController
@RequestMapping("/export")
public class ExportController {
    // Excelå¯¼å‡º
    @PostMapping("/excel")
    public void export(HttpServletResponse response, @RequestBody ExportRequest request)
    
    // æ•°æ®æŸ¥è¯¢
    @GetMapping("/data")
    public TableDataInfo getData(@RequestParam Map<String, Object> params)
    
    // æ¨¡æ¿ä¸‹è½½
    @GetMapping("/template/{templateName}")
    public void downloadTemplate(@PathVariable String templateName, HttpServletResponse response)
}
```

#### 2.2.3 æ–‡ä»¶ç®¡ç†æœåŠ¡
```java
@Service
public class FileService {
    // MinIOæ–‡ä»¶ä¸Šä¼ 
    public String uploadFile(MultipartFile file, String bucketName)
    
    // æ–‡ä»¶ä¸‹è½½
    public InputStream downloadFile(String fileName, String bucketName)
    
    // æ–‡ä»¶åˆ é™¤
    public boolean deleteFile(String fileName, String bucketName)
    
    // è·å–æ–‡ä»¶è®¿é—®URL
    public String getFileUrl(String fileName, String bucketName)
}
```

#### 2.2.4 å¾…å¼€å‘æ¥å£ï¼ˆé¢„ç•™ï¼‰
```java
// è®¾å¤‡ç®¡ç†æ¥å£ï¼ˆå¾…å¼€å‘ï¼‰
@RestController
@RequestMapping("/api/devices")
public class DeviceController {
    // è®¾å¤‡æ³¨å†Œ
    @PostMapping("/register")
    public Result registerDevice(@RequestBody DeviceRegisterDTO dto)
    
    // è®¾å¤‡çŠ¶æ€æ›´æ–°
    @PutMapping("/{deviceId}/status")
    public Result updateDeviceStatus(@PathVariable String deviceId, @RequestBody DeviceStatusDTO dto)
    
    // è·å–è®¾å¤‡åˆ—è¡¨
    @GetMapping
    public Result<List<DeviceVO>> getDeviceList()
}

// æ•°æ®æ¥æ”¶æ¥å£ï¼ˆå¾…å¼€å‘ï¼‰
@RestController
@RequestMapping("/api/data")
public class DataController {
    // æ¥æ”¶è¡Œä¸ºæ•°æ®
    @PostMapping("/behavior")
    public Result receiveBehaviorData(@RequestBody BehaviorDataDTO dto)
    
    // æ‰¹é‡æ¥æ”¶æ•°æ®
    @PostMapping("/behavior/batch")
    public Result receiveBehaviorDataBatch(@RequestBody List<BehaviorDataDTO> dtoList)
    
    // æ¥æ”¶å¿ƒè·³æ•°æ®
    @PostMapping("/heartbeat")
    public Result receiveHeartbeat(@RequestBody HeartbeatDTO dto)
}
```

### 2.3 å‰ç«¯æ¨¡å— (Vue 3) - å¼€å‘ä¸­

#### 2.3.1 æŠ€æœ¯é€‰å‹

**å‰ç«¯æ¡†æ¶ï¼š**
- Vue 3 - ä¸»æ¡†æ¶ (Composition API)
- Element Plus - UIç»„ä»¶åº“
- Vue Router - è·¯ç”±ç®¡ç†
- Pinia - çŠ¶æ€ç®¡ç†
- Axios - HTTPå®¢æˆ·ç«¯
- Socket.io - WebSocketå®æ—¶é€šä¿¡
- ECharts - æ•°æ®å¯è§†åŒ–
- QRCode.js - äºŒç»´ç ç”Ÿæˆ

**å¼€å‘å·¥å…·ï¼š**
- Vite - æ„å»ºå·¥å…·
- TypeScript - ç±»å‹æ”¯æŒ
- ESLint - ä»£ç æ£€æŸ¥
- Prettier - ä»£ç æ ¼å¼åŒ–

#### 2.3.2 é¡µé¢ç»“æ„è®¾è®¡

**å·²å®Œæˆé¡µé¢ï¼š**
- âœ… ç™»å½•é¡µé¢ - ç”¨æˆ·èº«ä»½è®¤è¯
- âœ… é¦–é¡µä»ªè¡¨æ¿ - ç³»ç»Ÿæ¦‚è§ˆ
- âœ… ç”¨æˆ·ç®¡ç† - ç”¨æˆ·ä¿¡æ¯ç»´æŠ¤
- âœ… è§’è‰²ç®¡ç† - æƒé™è§’è‰²é…ç½®
- âœ… èœå•ç®¡ç† - ç³»ç»Ÿèœå•é…ç½®
- âœ… æ•°æ®å¯¼å‡º - Excelå¯¼å‡ºåŠŸèƒ½
- âœ… ç³»ç»Ÿç›‘æ§ - ç³»ç»ŸçŠ¶æ€ç›‘æ§
- âœ… æ“ä½œæ—¥å¿— - ç”¨æˆ·æ“ä½œè®°å½•

**å¼€å‘ä¸­é¡µé¢ï¼š**
- ğŸ”„ ç¬¼å­ç®¡ç† - äºŒç»´ç ç¬¼å­æ³¨å†Œå’Œæ¿€æ´»
- ğŸ”„ å®æ—¶ç›‘æ§ - è§†é¢‘æµç›‘æ§å’Œè¡Œä¸ºè¯†åˆ«
- ğŸ”„ æ•°æ®åˆ†æ - è¡Œä¸ºæ•°æ®ç»Ÿè®¡åˆ†æ

**å¾…å¼€å‘é¡µé¢ï¼š**
- â³ å°é¼ æ¡£æ¡ˆç®¡ç† - å°é¼ ä¿¡æ¯å’Œå¥åº·æ¡£æ¡ˆ
- â³ å®éªŒé¡¹ç›®ç®¡ç† - å®éªŒè®¾è®¡å’Œè¿›åº¦è·Ÿè¸ª
- â³ æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆ - AIé©±åŠ¨çš„åˆ†ææŠ¥å‘Š
- â³ è§†è§‰è¯†åˆ«é…ç½® - AIæ¨¡å‹å‚æ•°è°ƒä¼˜
- â³ ç§»åŠ¨ç«¯åº”ç”¨ - äºŒç»´ç æ‰«æå’Œå¿«é€Ÿæ“ä½œ

#### 2.3.3 æ ¸å¿ƒç»„ä»¶è®¾è®¡

**äºŒç»´ç ç®¡ç†ç»„ä»¶ (QRCodeManager.vue)**
```vue
<template>
  <div class="qr-code-manager">
    <!-- äºŒç»´ç ç”Ÿæˆ -->
    <el-card class="qr-generator">
      <h3>ç¬¼å­æ³¨å†Œ</h3>
      <el-form :model="cageForm" @submit="generateQRCode">
        <el-form-item label="ç¬¼å­ç¼–å·">
          <el-input v-model="cageForm.cageId" placeholder="è‡ªåŠ¨ç”Ÿæˆæˆ–æ‰‹åŠ¨è¾“å…¥" />
        </el-form-item>
        <el-form-item label="å®éªŒé¡¹ç›®">
          <el-select v-model="cageForm.experimentId">
            <el-option v-for="exp in experiments" :key="exp.id" :label="exp.name" :value="exp.id" />
          </el-select>
        </el-form-item>
        <el-button type="primary" @click="generateQRCode">ç”ŸæˆäºŒç»´ç </el-button>
      </el-form>
    </el-card>
    
    <!-- äºŒç»´ç æ˜¾ç¤º -->
    <el-card class="qr-display" v-if="qrCodeUrl">
      <div class="qr-code">
        <canvas ref="qrCanvas"></canvas>
      </div>
      <el-button @click="printQRCode">æ‰“å°äºŒç»´ç </el-button>
    </el-card>
  </div>
</template>
```

**å®æ—¶ç›‘æ§ç»„ä»¶ (RealTimeMonitor.vue)**
```vue
<template>
  <div class="real-time-monitor">
    <!-- è§†é¢‘æµæ˜¾ç¤º -->
    <div class="video-grid">
      <div v-for="cage in activeCages" :key="cage.id" class="video-item">
        <video :src="cage.videoStream" autoplay muted></video>
        <div class="overlay-info">
          <span class="cage-id">{{ cage.id }}</span>
          <span class="mouse-count">å°é¼ æ•°é‡: {{ cage.mouseCount }}</span>
          <span class="status" :class="cage.status">{{ cage.statusText }}</span>
        </div>
      </div>
    </div>
    
    <!-- å®æ—¶æ•°æ®é¢æ¿ -->
    <el-card class="data-panel">
      <h3>å®æ—¶è¡Œä¸ºæ•°æ®</h3>
      <div class="behavior-stats">
        <div v-for="behavior in behaviorStats" :key="behavior.type" class="stat-item">
          <span class="behavior-name">{{ behavior.name }}</span>
          <el-progress :percentage="behavior.percentage" :color="behavior.color" />
        </div>
      </div>
    </el-card>
  </div>
</template>
```

**æ™ºèƒ½æ•°æ®åˆ†æç»„ä»¶ (DataAnalysis.vue)**
```vue
<template>
  <div class="data-analysis">
    <!-- ç­›é€‰æ¡ä»¶ -->
    <el-card class="filter-panel">
      <el-form :model="filterForm" inline>
        <el-form-item label="æ—¶é—´èŒƒå›´">
          <el-date-picker v-model="filterForm.dateRange" type="datetimerange" />
        </el-form-item>
        <el-form-item label="ç¬¼å­">
          <el-select v-model="filterForm.cageIds" multiple>
            <el-option v-for="cage in cages" :key="cage.id" :label="cage.name" :value="cage.id" />
          </el-select>
        </el-form-item>
        <el-form-item label="è¡Œä¸ºç±»å‹">
          <el-select v-model="filterForm.behaviorTypes" multiple>
            <el-option v-for="type in behaviorTypes" :key="type" :label="type" :value="type" />
          </el-select>
        </el-form-item>
        <el-button type="primary" @click="analyzeData">åˆ†ææ•°æ®</el-button>
      </el-form>
    </el-card>
    
    <!-- å›¾è¡¨å±•ç¤º -->
    <div class="charts-container">
      <el-card class="chart-item">
        <h4>è¡Œä¸ºæ—¶é—´åˆ†å¸ƒ</h4>
        <div ref="behaviorTimeChart" class="chart"></div>
      </el-card>
      <el-card class="chart-item">
        <h4>æ´»è·ƒåº¦è¶‹åŠ¿</h4>
        <div ref="activityTrendChart" class="chart"></div>
      </el-card>
    </div>
  </div>
</template>
```

## 3. å…³é”®æ¥å£å®šä¹‰

### 3.1 å½“å‰å·²å®ç°æ¥å£

#### 3.1.1 ç”¨æˆ·ç®¡ç†æ¥å£

**ç”¨æˆ·ç™»å½•ï¼š** `POST /login`
```json
// è¯·æ±‚å‚æ•°
{
  "username": "admin",
  "password": "admin123",
  "code": "1234",
  "uuid": "uuid-string"
}

// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "token": "eyJhbGciOiJIUzUxMiJ9..."
}
```

**è·å–ç”¨æˆ·ä¿¡æ¯ï¼š** `GET /getInfo`
```json
// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "data": {
    "user": {
      "userId": 1,
      "userName": "admin",
      "nickName": "ç®¡ç†å‘˜"
    },
    "roles": ["admin"],
    "permissions": ["*:*:*"]
  }
}
```

#### 3.1.2 äºŒç»´ç ç¬¼å­ç®¡ç†æ¥å£

**ç¬¼å­æ³¨å†Œï¼š** `POST /api/cage/register`
```json
// è¯·æ±‚å‚æ•°
{
  "cageId": "CAGE_001",
  "experimentId": 1,
  "location": "å®éªŒå®¤A-æ¶å­1-å±‚2",
  "capacity": 5,
  "description": "é›„æ€§å°é¼ ç¬¼å­"
}

// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "ç¬¼å­æ³¨å†ŒæˆåŠŸ",
  "data": {
    "id": 1,
    "cageId": "CAGE_001",
    "qrCode": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...",
    "status": "REGISTERED",
    "createTime": "2024-01-15 10:30:00"
  }
}
```

**ç¬¼å­æ¿€æ´»ï¼š** `POST /api/cage/activate`
```json
// è¯·æ±‚å‚æ•°
{
  "cageId": "CAGE_001",
  "deviceId": "CAM_001"
}

// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "ç¬¼å­æ¿€æ´»æˆåŠŸ",
  "data": {
    "cageId": "CAGE_001",
    "status": "ACTIVE",
    "deviceId": "CAM_001",
    "activateTime": "2024-01-15 10:30:00"
  }
}
```

**è·å–ç¬¼å­çŠ¶æ€ï¼š** `GET /api/cage/status/{cageId}`
```json
// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "cageId": "CAGE_001",
    "status": "ACTIVE",
    "mouseCount": 3,
    "lastActivity": "2024-01-15 15:30:00",
    "deviceId": "CAM_001",
    "videoStream": "ws://localhost:8080/video/CAGE_001",
    "experiment": {
      "id": 1,
      "name": "è¡Œä¸ºå­¦å®éªŒA",
      "startDate": "2024-01-01"
    }
  }
}
```

#### 3.1.3 ç³»ç»Ÿç®¡ç†æ¥å£

**è·å–ç”¨æˆ·åˆ—è¡¨ï¼š** `GET /system/user/list`
```json
// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "æŸ¥è¯¢æˆåŠŸ",
  "rows": [
    {
      "userId": 1,
      "userName": "admin",
      "nickName": "ç®¡ç†å‘˜",
      "email": "admin@example.com",
      "status": "0",
      "createTime": "2024-01-15 10:30:00"
    }
  ],
  "total": 1
}
```

**æ•°æ®å¯¼å‡ºæ¥å£ï¼š** `POST /export/excel`
```json
// è¯·æ±‚å‚æ•°
{
  "type": "behavior_data",
  "format": "excel",
  "conditions": {
    "cageIds": ["CAGE_001", "CAGE_002"],
    "startDate": "2024-01-01",
    "endDate": "2024-01-31",
    "behaviorTypes": ["EATING", "DRINKING", "RUNNING"]
  }
}

// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "å¯¼å‡ºæˆåŠŸ",
  "data": {
    "downloadUrl": "/api/files/download/behavior_data_20240115.xlsx",
    "fileName": "è¡Œä¸ºæ•°æ®_20240115.xlsx",
    "recordCount": 15420
  }
}
```

### 3.2 å¾…å¼€å‘æ¥å£ï¼ˆé¢„ç•™è®¾è®¡ï¼‰

#### 3.2.1 è®¡ç®—æœºè§†è§‰æœåŠ¡æ¥å£

**å¯åŠ¨ç›‘æ§ï¼š** `POST /api/vision/start`
```json
// è¯·æ±‚å‚æ•°
{
  "cageId": "CAGE_001",
  "deviceId": "CAM_001",
  "config": {
    "detectionThreshold": 0.8,
    "trackingEnabled": true,
    "behaviorTypes": ["EATING", "DRINKING", "RUNNING", "SLEEPING"]
  }
}

// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "ç›‘æ§å¯åŠ¨æˆåŠŸ",
  "data": {
    "sessionId": "session_001",
    "status": "RUNNING",
    "startTime": "2024-01-15T10:30:00Z"
  }
}
```

**åœæ­¢ç›‘æ§ï¼š** `POST /api/vision/stop`
```json
// è¯·æ±‚å‚æ•°
{
  "sessionId": "session_001",
  "cageId": "CAGE_001"
}

// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "ç›‘æ§åœæ­¢æˆåŠŸ",
  "data": {
    "sessionId": "session_001",
    "status": "STOPPED",
    "stopTime": "2024-01-15T12:30:00Z",
    "duration": 7200
  }
}
```

**è·å–å®æ—¶æ•°æ®ï¼š** `GET /api/vision/realtime/{cageId}`
```json
// å“åº”æ ¼å¼
{
  "code": 200,
  "msg": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "cageId": "CAGE_001",
    "timestamp": "2024-01-15T10:30:00Z",
    "mouseCount": 3,
    "currentBehaviors": [
      {
        "mouseId": "mouse_001",
        "behavior": "EATING",
        "confidence": 0.92,
        "position": {"x": 150, "y": 200}
      }
    ],
    "environmentData": {
      "temperature": 22.5,
      "humidity": 60.2
    }
  }
}
```

#### 3.2.2 æ•°æ®é‡‡é›†æ¥å£

**è¡Œä¸ºæ•°æ®ä¸ŠæŠ¥ï¼š** `POST /api/data/behavior`
```json
{
  "deviceId": "device_001",
  "timestamp": "2024-01-15T10:30:00Z",
  "cageId": "cage_001",
  "mouseData": [
    {
      "mouseId": "mouse_001",
      "position": {
        "x": 150.5,
        "y": 200.3
      },
      "behaviors": [
        {
          "type": "COUGH",
          "confidence": 0.85,
          "duration": 2.5,
          "startTime": "2024-01-15T10:30:00Z",
          "endTime": "2024-01-15T10:30:02.5Z"
        }
      ]
    }
  ],
  "environmentData": {
    "temperature": 22.5,
    "humidity": 60.2,
    "lightLevel": 0.1
  }
}
```

### 3.2 æ•°æ®æŸ¥è¯¢API

#### 3.2.1 è¡Œä¸ºç»Ÿè®¡æŸ¥è¯¢
```json
GET /api/analysis/behavior-statistics
Authorization: Bearer {token}

Query Parameters:
- deviceId: string (required)
- startTime: datetime (required)
- endTime: datetime (required)
- behaviorTypes: array[string] (optional)
- mouseIds: array[string] (optional)

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "totalCount": 150,
    "behaviorCounts": {
      "COUGH": 45,
      "NOSE_SCRATCH": 32,
      "SLEEP": 73
    },
    "mouseStatistics": [
      {
        "mouseId": "mouse_001",
        "behaviorCounts": {
          "COUGH": 12,
          "NOSE_SCRATCH": 8,
          "SLEEP": 15
        }
      }
    ],
    "timeDistribution": [
      {
        "hour": 0,
        "count": 8
      }
    ]
  }
}
```

### 3.3 WebSocketå®æ—¶æ¨é€

#### 3.3.1 å®æ—¶è¡Œä¸ºæ¨é€
```json
// WebSocketè¿æ¥: ws://localhost:8080/ws/realtime
// æ¶ˆæ¯æ ¼å¼:
{
  "type": "BEHAVIOR_DETECTED",
  "data": {
    "deviceId": "device_001",
    "mouseId": "mouse_001",
    "behavior": {
      "type": "COUGH",
      "confidence": 0.85,
      "timestamp": "2024-01-15T10:30:00Z"
    }
  }
}
```

## 4. æ•°æ®åº“è®¾è®¡

### 4.1 æ ¸å¿ƒè¡¨ç»“æ„

#### 4.1.1 è®¾å¤‡è¡¨ (t_device)
```sql
CREATE TABLE t_device (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    device_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'è®¾å¤‡ID',
    device_name VARCHAR(100) NOT NULL COMMENT 'è®¾å¤‡åç§°',
    device_type VARCHAR(50) DEFAULT 'CAMERA' COMMENT 'è®¾å¤‡ç±»å‹',
    location VARCHAR(200) COMMENT 'è®¾å¤‡ä½ç½®',
    ip_address VARCHAR(45) COMMENT 'IPåœ°å€',
    port INT COMMENT 'ç«¯å£å·',
    status VARCHAR(20) DEFAULT 'OFFLINE' COMMENT 'è®¾å¤‡çŠ¶æ€:ONLINE,OFFLINE,ERROR,MAINTENANCE',
    last_heartbeat DATETIME COMMENT 'æœ€åå¿ƒè·³æ—¶é—´',
    hardware_info JSON COMMENT 'ç¡¬ä»¶ä¿¡æ¯',
    config_info JSON COMMENT 'é…ç½®ä¿¡æ¯',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_device_id (device_id),
    INDEX idx_status (status),
    INDEX idx_created_time (created_time)
);
```

#### 4.1.2 é¼ ç¬¼è¡¨ (t_cage)
```sql
CREATE TABLE t_cage (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    cage_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'é¼ ç¬¼ID',
    qr_code TEXT COMMENT 'äºŒç»´ç å†…å®¹(Base64ç¼–ç )',
    qr_code_url VARCHAR(500) COMMENT 'äºŒç»´ç å›¾ç‰‡URL',
    device_id VARCHAR(50) COMMENT 'å…³è”è®¾å¤‡ID',
    cage_name VARCHAR(100) NOT NULL COMMENT 'é¼ ç¬¼åç§°',
    location VARCHAR(200) COMMENT 'ç¬¼å­ä½ç½®(å®éªŒå®¤-æ¶å­-å±‚)',
    capacity INT DEFAULT 5 COMMENT 'ç¬¼å­å®¹é‡',
    mouse_count INT DEFAULT 0 COMMENT 'å½“å‰å°é¼ æ•°é‡',
    experiment_id BIGINT COMMENT 'å…³è”å®éªŒé¡¹ç›®ID',
    experiment_group VARCHAR(100) COMMENT 'å®éªŒç»„åˆ«',
    environment_info JSON COMMENT 'ç¯å¢ƒä¿¡æ¯(æ¸©åº¦ã€æ¹¿åº¦ç­‰)',
    cage_size JSON COMMENT 'é¼ ç¬¼å°ºå¯¸ä¿¡æ¯',
    status VARCHAR(20) DEFAULT 'REGISTERED' COMMENT 'çŠ¶æ€:REGISTERED,ACTIVE,INACTIVE,MAINTENANCE',
    activate_time DATETIME COMMENT 'æ¿€æ´»æ—¶é—´',
    last_activity DATETIME COMMENT 'æœ€åæ´»åŠ¨æ—¶é—´',
    description TEXT COMMENT 'ç¬¼å­æè¿°',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_cage_id (cage_id),
    INDEX idx_device_id (device_id),
    INDEX idx_experiment_id (experiment_id),
    INDEX idx_status (status),
    INDEX idx_location (location)
);
```

#### 4.1.3 å°é¼ è¡¨ (t_mouse)
```sql
CREATE TABLE t_mouse (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    mouse_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'å°é¼ ID',
    cage_id VARCHAR(50) NOT NULL COMMENT 'æ‰€å±é¼ ç¬¼ID',
    mouse_name VARCHAR(100) COMMENT 'å°é¼ åç§°',
    mouse_code VARCHAR(50) COMMENT 'å°é¼ ç¼–å·',
    gender VARCHAR(10) COMMENT 'æ€§åˆ«:MALE,FEMALE,UNKNOWN',
    age_weeks INT COMMENT 'å‘¨é¾„',
    weight_grams DECIMAL(6,2) COMMENT 'ä½“é‡(å…‹)',
    strain VARCHAR(50) COMMENT 'å“ç³»',
    source VARCHAR(100) COMMENT 'æ¥æº',
    birth_date DATE COMMENT 'å‡ºç”Ÿæ—¥æœŸ',
    entry_date DATE COMMENT 'å…¥ç¬¼æ—¥æœŸ',
    health_status VARCHAR(20) DEFAULT 'HEALTHY' COMMENT 'å¥åº·çŠ¶æ€:HEALTHY,SICK,DEAD',
    tracking_color VARCHAR(20) COMMENT 'è¿½è¸ªæ ‡è¯†é¢œè‰²',
    notes TEXT COMMENT 'å¤‡æ³¨ä¿¡æ¯',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_mouse_id (mouse_id),
    INDEX idx_cage_id (cage_id),
    INDEX idx_health_status (health_status),
    INDEX idx_strain (strain)
);
```

#### 4.1.4 è¡Œä¸ºæ•°æ®è¡¨ (t_behavior_data)
```sql
CREATE TABLE t_behavior_data (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    device_id VARCHAR(50) NOT NULL COMMENT 'è®¾å¤‡ID',
    cage_id VARCHAR(50) NOT NULL COMMENT 'é¼ ç¬¼ID',
    mouse_id VARCHAR(50) NOT NULL COMMENT 'å°é¼ ID',
    behavior_type VARCHAR(50) NOT NULL COMMENT 'è¡Œä¸ºç±»å‹:SLEEP,COUGH,NOSE_SCRATCH,DEFECATION,CONVULSION,MOVEMENT,EATING,DRINKING',
    behavior_subtype VARCHAR(50) COMMENT 'è¡Œä¸ºå­ç±»å‹',
    confidence DECIMAL(5,4) NOT NULL COMMENT 'ç½®ä¿¡åº¦(0-1)',
    duration_seconds DECIMAL(10,3) COMMENT 'æŒç»­æ—¶é—´(ç§’)',
    position_x DECIMAL(10,3) COMMENT 'Xåæ ‡',
    position_y DECIMAL(10,3) COMMENT 'Yåæ ‡',
    bounding_box JSON COMMENT 'è¾¹ç•Œæ¡†ä¿¡æ¯',
    start_time DATETIME NOT NULL COMMENT 'å¼€å§‹æ—¶é—´',
    end_time DATETIME COMMENT 'ç»“æŸæ—¶é—´',
    frame_start INT COMMENT 'å¼€å§‹å¸§å·',
    frame_end INT COMMENT 'ç»“æŸå¸§å·',
    video_file_path VARCHAR(500) COMMENT 'è§†é¢‘æ–‡ä»¶è·¯å¾„',
    image_file_path VARCHAR(500) COMMENT 'æˆªå›¾æ–‡ä»¶è·¯å¾„',
    additional_data JSON COMMENT 'é¢å¤–æ•°æ®',
    is_verified TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦å·²éªŒè¯:0-å¦,1-æ˜¯',
    verified_by BIGINT COMMENT 'éªŒè¯äººID',
    verified_time DATETIME COMMENT 'éªŒè¯æ—¶é—´',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_device_time (device_id, start_time),
    INDEX idx_cage_time (cage_id, start_time),
    INDEX idx_mouse_behavior (mouse_id, behavior_type),
    INDEX idx_time_range (start_time, end_time),
    INDEX idx_behavior_type (behavior_type),
    INDEX idx_confidence (confidence),
    INDEX idx_verified (is_verified)
);
```

#### 4.1.5 å®éªŒé¡¹ç›®è¡¨ (t_experiment)
```sql
CREATE TABLE t_experiment (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    experiment_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'å®éªŒID',
    experiment_name VARCHAR(200) NOT NULL COMMENT 'å®éªŒåç§°',
    experiment_type VARCHAR(50) COMMENT 'å®éªŒç±»å‹',
    description TEXT COMMENT 'å®éªŒæè¿°',
    principal_investigator VARCHAR(100) COMMENT 'ä¸»è¦ç ”ç©¶è€…',
    start_date DATE COMMENT 'å¼€å§‹æ—¥æœŸ',
    end_date DATE COMMENT 'ç»“æŸæ—¥æœŸ',
    status VARCHAR(20) DEFAULT 'PLANNING' COMMENT 'çŠ¶æ€:PLANNING,RUNNING,PAUSED,COMPLETED,CANCELLED',
    protocol_file_path VARCHAR(500) COMMENT 'å®éªŒæ–¹æ¡ˆæ–‡ä»¶è·¯å¾„',
    approval_number VARCHAR(100) COMMENT 'ä¼¦ç†å®¡æ‰¹å·',
    funding_source VARCHAR(200) COMMENT 'èµ„åŠ©æ¥æº',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_experiment_id (experiment_id),
    INDEX idx_status (status),
    INDEX idx_date_range (start_date, end_date)
);
```

#### 4.1.6 ç”¨æˆ·è¡¨ (t_user)
```sql
CREATE TABLE t_user (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL COMMENT 'ç”¨æˆ·å',
    password VARCHAR(255) NOT NULL COMMENT 'å¯†ç (åŠ å¯†)',
    real_name VARCHAR(100) COMMENT 'çœŸå®å§“å',
    email VARCHAR(100) COMMENT 'é‚®ç®±',
    phone VARCHAR(20) COMMENT 'ç”µè¯',
    department VARCHAR(100) COMMENT 'éƒ¨é—¨',
    role VARCHAR(50) DEFAULT 'USER' COMMENT 'è§’è‰²:ADMIN,RESEARCHER,OPERATOR,VIEWER',
    status VARCHAR(20) DEFAULT 'ACTIVE' COMMENT 'çŠ¶æ€:ACTIVE,INACTIVE,LOCKED',
    last_login_time DATETIME COMMENT 'æœ€åç™»å½•æ—¶é—´',
    last_login_ip VARCHAR(45) COMMENT 'æœ€åç™»å½•IP',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_username (username),
    INDEX idx_email (email),
    INDEX idx_role (role),
    INDEX idx_status (status)
);
```

#### 4.1.7 æ ‡æ³¨ä»»åŠ¡è¡¨ (t_annotation_task)
```sql
CREATE TABLE t_annotation_task (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    task_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'ä»»åŠ¡ID',
    task_name VARCHAR(200) NOT NULL COMMENT 'ä»»åŠ¡åç§°',
    task_type VARCHAR(50) COMMENT 'ä»»åŠ¡ç±»å‹:VIDEO_ANNOTATION,BEHAVIOR_ANNOTATION,QUALITY_CHECK',
    description TEXT COMMENT 'ä»»åŠ¡æè¿°',
    video_file_path VARCHAR(500) COMMENT 'è§†é¢‘æ–‡ä»¶è·¯å¾„',
    start_frame INT COMMENT 'å¼€å§‹å¸§',
    end_frame INT COMMENT 'ç»“æŸå¸§',
    assigned_to BIGINT COMMENT 'åˆ†é…ç»™ç”¨æˆ·ID',
    priority VARCHAR(20) DEFAULT 'NORMAL' COMMENT 'ä¼˜å…ˆçº§:HIGH,NORMAL,LOW',
    status VARCHAR(20) DEFAULT 'PENDING' COMMENT 'çŠ¶æ€:PENDING,IN_PROGRESS,COMPLETED,REJECTED',
    deadline DATETIME COMMENT 'æˆªæ­¢æ—¶é—´',
    completed_time DATETIME COMMENT 'å®Œæˆæ—¶é—´',
    quality_score DECIMAL(3,2) COMMENT 'è´¨é‡è¯„åˆ†(0-10)',
    notes TEXT COMMENT 'å¤‡æ³¨',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_task_id (task_id),
    INDEX idx_assigned_to (assigned_to),
    INDEX idx_status (status),
    INDEX idx_deadline (deadline)
);
```

#### 4.1.8 æ ‡æ³¨ç»“æœè¡¨ (t_annotation_result)
```sql
CREATE TABLE t_annotation_result (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    task_id VARCHAR(50) NOT NULL COMMENT 'ä»»åŠ¡ID',
    mouse_id VARCHAR(50) COMMENT 'å°é¼ ID',
    behavior_type VARCHAR(50) NOT NULL COMMENT 'è¡Œä¸ºç±»å‹',
    start_frame INT NOT NULL COMMENT 'å¼€å§‹å¸§',
    end_frame INT NOT NULL COMMENT 'ç»“æŸå¸§',
    start_time DATETIME NOT NULL COMMENT 'å¼€å§‹æ—¶é—´',
    end_time DATETIME NOT NULL COMMENT 'ç»“æŸæ—¶é—´',
    position_data JSON COMMENT 'ä½ç½®æ•°æ®',
    annotation_data JSON COMMENT 'æ ‡æ³¨æ•°æ®',
    annotator_id BIGINT NOT NULL COMMENT 'æ ‡æ³¨å‘˜ID',
    annotation_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'æ ‡æ³¨æ—¶é—´',
    is_verified TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦å·²éªŒè¯',
    verified_by BIGINT COMMENT 'éªŒè¯äººID',
    verified_time DATETIME COMMENT 'éªŒè¯æ—¶é—´',
    INDEX idx_task_id (task_id),
    INDEX idx_mouse_id (mouse_id),
    INDEX idx_behavior_type (behavior_type),
    INDEX idx_annotator (annotator_id),
    INDEX idx_time_range (start_time, end_time)
);
```

#### 4.1.9 ç³»ç»Ÿæ—¥å¿—è¡¨ (t_system_log)
```sql
CREATE TABLE t_system_log (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    log_type VARCHAR(50) NOT NULL COMMENT 'æ—¥å¿—ç±»å‹:LOGIN,OPERATION,ERROR,SYSTEM',
    user_id BIGINT COMMENT 'ç”¨æˆ·ID',
    module VARCHAR(100) COMMENT 'æ¨¡å—åç§°',
    operation VARCHAR(200) COMMENT 'æ“ä½œæè¿°',
    request_url VARCHAR(500) COMMENT 'è¯·æ±‚URL',
    request_method VARCHAR(10) COMMENT 'è¯·æ±‚æ–¹æ³•',
    request_params TEXT COMMENT 'è¯·æ±‚å‚æ•°',
    response_data TEXT COMMENT 'å“åº”æ•°æ®',
    ip_address VARCHAR(45) COMMENT 'IPåœ°å€',
    user_agent TEXT COMMENT 'ç”¨æˆ·ä»£ç†',
    execution_time INT COMMENT 'æ‰§è¡Œæ—¶é—´(æ¯«ç§’)',
    status VARCHAR(20) COMMENT 'çŠ¶æ€:SUCCESS,FAILED,ERROR',
    error_message TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_log_type (log_type),
    INDEX idx_user_id (user_id),
    INDEX idx_created_time (created_time),
    INDEX idx_status (status)
);
```

#### 4.1.10 æ–‡ä»¶ç®¡ç†è¡¨ (t_file_info)
```sql
CREATE TABLE t_file_info (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    file_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'æ–‡ä»¶ID',
    file_name VARCHAR(255) NOT NULL COMMENT 'æ–‡ä»¶å',
    file_type VARCHAR(50) COMMENT 'æ–‡ä»¶ç±»å‹:VIDEO,IMAGE,DOCUMENT,DATA',
    file_size BIGINT COMMENT 'æ–‡ä»¶å¤§å°(å­—èŠ‚)',
    file_path VARCHAR(500) NOT NULL COMMENT 'æ–‡ä»¶è·¯å¾„',
    file_url VARCHAR(500) COMMENT 'æ–‡ä»¶è®¿é—®URL',
    mime_type VARCHAR(100) COMMENT 'MIMEç±»å‹',
    md5_hash VARCHAR(32) COMMENT 'MD5å“ˆå¸Œå€¼',
    related_id VARCHAR(50) COMMENT 'å…³è”ID(è®¾å¤‡ã€é¼ ç¬¼ã€å°é¼ ç­‰)',
    related_type VARCHAR(50) COMMENT 'å…³è”ç±»å‹',
    upload_by BIGINT COMMENT 'ä¸Šä¼ äººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_file_id (file_id),
    INDEX idx_file_type (file_type),
    INDEX idx_related (related_id, related_type),
    INDEX idx_upload_by (upload_by),
    INDEX idx_created_time (created_time)
);
```

#### 4.1.11 äºŒç»´ç ç®¡ç†è¡¨ (t_qr_code)
```sql
CREATE TABLE t_qr_code (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    qr_code_id VARCHAR(50) UNIQUE NOT NULL COMMENT 'äºŒç»´ç ID',
    cage_id VARCHAR(50) NOT NULL COMMENT 'å…³è”ç¬¼å­ID',
    qr_content TEXT NOT NULL COMMENT 'äºŒç»´ç å†…å®¹(JSONæ ¼å¼)',
    qr_image_url VARCHAR(500) COMMENT 'äºŒç»´ç å›¾ç‰‡URL',
    qr_image_base64 LONGTEXT COMMENT 'äºŒç»´ç å›¾ç‰‡Base64ç¼–ç ',
    generation_algorithm VARCHAR(50) DEFAULT 'QR_CODE' COMMENT 'ç”Ÿæˆç®—æ³•:QR_CODE,DATA_MATRIX',
    error_correction_level VARCHAR(10) DEFAULT 'M' COMMENT 'çº é”™çº§åˆ«:L,M,Q,H',
    size_pixels INT DEFAULT 200 COMMENT 'å›¾ç‰‡å°ºå¯¸(åƒç´ )',
    is_active TINYINT DEFAULT 1 COMMENT 'æ˜¯å¦æ¿€æ´»:0-å¦,1-æ˜¯',
    scan_count INT DEFAULT 0 COMMENT 'æ‰«ææ¬¡æ•°',
    last_scan_time DATETIME COMMENT 'æœ€åæ‰«ææ—¶é—´',
    last_scan_ip VARCHAR(45) COMMENT 'æœ€åæ‰«æIP',
    expiry_time DATETIME COMMENT 'è¿‡æœŸæ—¶é—´',
    created_by BIGINT COMMENT 'åˆ›å»ºäººID',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted TINYINT DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤:0-å¦,1-æ˜¯',
    INDEX idx_qr_code_id (qr_code_id),
    INDEX idx_cage_id (cage_id),
    INDEX idx_is_active (is_active),
    INDEX idx_scan_count (scan_count),
    INDEX idx_created_time (created_time),
    FOREIGN KEY (cage_id) REFERENCES t_cage(cage_id) ON DELETE CASCADE
);
```

#### 4.1.12 äºŒç»´ç æ‰«æè®°å½•è¡¨ (t_qr_scan_log)
```sql
CREATE TABLE t_qr_scan_log (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    qr_code_id VARCHAR(50) NOT NULL COMMENT 'äºŒç»´ç ID',
    cage_id VARCHAR(50) NOT NULL COMMENT 'ç¬¼å­ID',
    scan_result VARCHAR(20) NOT NULL COMMENT 'æ‰«æç»“æœ:SUCCESS,FAILED,EXPIRED,INVALID',
    scan_device VARCHAR(100) COMMENT 'æ‰«æè®¾å¤‡ä¿¡æ¯',
    scan_ip VARCHAR(45) COMMENT 'æ‰«æIPåœ°å€',
    scan_location VARCHAR(200) COMMENT 'æ‰«æä½ç½®',
    user_agent TEXT COMMENT 'ç”¨æˆ·ä»£ç†ä¿¡æ¯',
    error_message TEXT COMMENT 'é”™è¯¯ä¿¡æ¯(æ‰«æå¤±è´¥æ—¶)',
    response_time INT COMMENT 'å“åº”æ—¶é—´(æ¯«ç§’)',
    scan_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'æ‰«ææ—¶é—´',
    INDEX idx_qr_code_id (qr_code_id),
    INDEX idx_cage_id (cage_id),
    INDEX idx_scan_result (scan_result),
    INDEX idx_scan_time (scan_time),
    INDEX idx_scan_ip (scan_ip)
);
```

## 5. éƒ¨ç½²æ¶æ„

### 5.1 Dockerå®¹å™¨åŒ–éƒ¨ç½²

#### 5.1.1 ç”Ÿäº§ç¯å¢ƒDockeréƒ¨ç½²æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Host (Linux/Windows)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Docker Compose æœåŠ¡æ ˆ                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚   Nginx     â”‚  â”‚Spring Boot  â”‚  â”‚   MySQL     â”‚        â”‚ â”‚
â”‚  â”‚  â”‚  (å‰ç«¯)     â”‚  â”‚  (åç«¯)     â”‚  â”‚  (æ•°æ®åº“)   â”‚        â”‚ â”‚
â”‚  â”‚  â”‚  Port:80    â”‚  â”‚  Port:8080  â”‚  â”‚  Port:3306  â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚   Redis     â”‚  â”‚   MinIO     â”‚  â”‚  æ ‡æ³¨å·¥å…·    â”‚        â”‚ â”‚
â”‚  â”‚  â”‚  (ç¼“å­˜)     â”‚  â”‚  (æ–‡ä»¶)     â”‚  â”‚  (CVAT)     â”‚        â”‚ â”‚
â”‚  â”‚  â”‚  Port:6379  â”‚  â”‚  Port:9000  â”‚  â”‚  Port:8081  â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   æ•°æ®å·æŒ‚è½½                                â”‚ â”‚
â”‚  â”‚  â€¢ /data/mysql     -> MySQLæ•°æ®æŒä¹…åŒ–                      â”‚ â”‚
â”‚  â”‚  â€¢ /data/redis     -> Redisæ•°æ®æŒä¹…åŒ–                      â”‚ â”‚
â”‚  â”‚  â€¢ /data/minio     -> MinIOæ–‡ä»¶å­˜å‚¨                        â”‚ â”‚
â”‚  â”‚  â€¢ /data/videos    -> è§†é¢‘æ–‡ä»¶å­˜å‚¨                         â”‚ â”‚
â”‚  â”‚  â€¢ /data/logs      -> åº”ç”¨æ—¥å¿—å­˜å‚¨                         â”‚ â”‚
â”‚  â”‚  â€¢ /data/config    -> é…ç½®æ–‡ä»¶å­˜å‚¨                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤–éƒ¨é‡‡é›†ç«¯ (ç‹¬ç«‹éƒ¨ç½²)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é‡‡é›†ç«¯1    â”‚  â”‚  é‡‡é›†ç«¯2    â”‚  â”‚  é‡‡é›†ç«¯N    â”‚
â”‚             â”‚  â”‚             â”‚  â”‚             â”‚
â”‚  Python     â”‚  â”‚  Python     â”‚  â”‚  Python     â”‚
â”‚  Camera     â”‚  â”‚  Camera     â”‚  â”‚  Camera     â”‚
â”‚  GPU        â”‚  â”‚  GPU        â”‚  â”‚  GPU        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                   HTTP/WebSocket
                        â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Docker Host  â”‚
                â”‚   (æœåŠ¡ç«¯)    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.1.2 å¼€å‘ç¯å¢ƒéƒ¨ç½²é€‰æ‹©

**æ–¹æ¡ˆä¸€ï¼šå®Œå…¨DockeråŒ–å¼€å‘ç¯å¢ƒï¼ˆæ¨èï¼‰**

**ä¼˜åŠ¿ï¼š**
- ç¯å¢ƒä¸€è‡´æ€§ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´
- å¿«é€Ÿå¯åŠ¨ï¼šä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
- ä¾èµ–éš”ç¦»ï¼šé¿å…æœ¬åœ°ç¯å¢ƒæ±¡æŸ“
- å›¢é˜Ÿåä½œï¼šæ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹
- ç‰ˆæœ¬æ§åˆ¶ï¼šDockeré•œåƒç‰ˆæœ¬åŒ–ç®¡ç†

**åŠ£åŠ¿ï¼š**
- è°ƒè¯•å¤æ‚åº¦ç¨é«˜
- èµ„æºå ç”¨ç›¸å¯¹è¾ƒå¤§

**æ–¹æ¡ˆäºŒï¼šæ··åˆå¼€å‘ç¯å¢ƒ**
- MySQLã€Redisåœ¨Dockerä¸­è¿è¡Œ
- Spring Bootåœ¨IDEä¸­ç›´æ¥è¿è¡Œ
- å‰ç«¯åœ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨è¿è¡Œ

**æ¨èä½¿ç”¨æ–¹æ¡ˆä¸€çš„ç†ç”±ï¼š**
1. **é¿å…ç¯å¢ƒé…ç½®åœ°ç‹±**ï¼šMySQLç‰ˆæœ¬ã€Redisç‰ˆæœ¬ã€Javaç‰ˆæœ¬ç­‰ä¸ä¸€è‡´å¯¼è‡´çš„é—®é¢˜
2. **å¿«é€Ÿç¯å¢ƒé‡å»º**ï¼šç³»ç»Ÿå´©æºƒæˆ–æ›´æ¢å¼€å‘æœºå™¨æ—¶ï¼Œå‡ åˆ†é’Ÿå†…æ¢å¤å¼€å‘ç¯å¢ƒ
3. **ç”Ÿäº§ç¯å¢ƒä¸€è‡´æ€§**ï¼šå‡å°‘"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"çš„é—®é¢˜
4. **CI/CDå‹å¥½**ï¼šæŒç»­é›†æˆç¯å¢ƒä¸å¼€å‘ç¯å¢ƒä¸€è‡´
5. **å›¢é˜Ÿåä½œæ•ˆç‡**ï¼šæ–°æˆå‘˜åªéœ€è¦Dockerå³å¯å¼€å§‹å¼€å‘

### 5.2 Docker Composeé…ç½®ç¤ºä¾‹

```yaml
# docker-compose.yml
version: '3.8'

services:
  # MySQLæ•°æ®åº“
  mysql:
    image: mysql:8.0
    container_name: mouse-mysql
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: mouse_monitor
      MYSQL_USER: mouse_user
      MYSQL_PASSWORD: mouse_pass
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./sql/init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - mouse-network

  # Redisç¼“å­˜
  redis:
    image: redis:7-alpine
    container_name: mouse-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    networks:
      - mouse-network

  # MinIOæ–‡ä»¶å­˜å‚¨
  minio:
    image: minio/minio:latest
    container_name: mouse-minio
    environment:
      MINIO_ROOT_USER: admin
      MINIO_ROOT_PASSWORD: admin123
    ports:
      - "9000:9000"
      - "9001:9001"
    volumes:
      - minio_data:/data
    command: server /data --console-address ":9001"
    networks:
      - mouse-network

  # Spring Bootåç«¯
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: mouse-backend
    environment:
      SPRING_PROFILES_ACTIVE: docker
      MYSQL_HOST: mysql
      REDIS_HOST: redis
      MINIO_HOST: minio
    ports:
      - "8080:8080"
    depends_on:
      - mysql
      - redis
      - minio
    volumes:
      - ./logs:/app/logs
      - ./data/videos:/app/videos
    networks:
      - mouse-network

  # Nginxå‰ç«¯
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    container_name: mouse-frontend
    ports:
      - "80:80"
    depends_on:
      - backend
    networks:
      - mouse-network

  # CVATæ ‡æ³¨å·¥å…·
  cvat:
    image: openvino/cvat_server:latest
    container_name: mouse-cvat
    environment:
      DJANGO_MODWSGI_EXTRA_ARGS: ""
      ALLOWED_HOSTS: "*"
    ports:
      - "8081:8080"
    volumes:
      - cvat_data:/home/django/data
      - cvat_keys:/home/django/keys
      - cvat_logs:/home/django/logs
    networks:
      - mouse-network

volumes:
  mysql_data:
  redis_data:
  minio_data:
  cvat_data:
  cvat_keys:
  cvat_logs:

networks:
  mouse-network:
    driver: bridge
```

### 5.3 éƒ¨ç½²è„šæœ¬

#### 5.3.1 ä¸€é”®éƒ¨ç½²è„šæœ¬ (deploy.ps1)
```powershell
# è®¡ç®—æœºè§†è§‰å°é¼ ç®¡ç†ç³»ç»Ÿä¸€é”®éƒ¨ç½²è„šæœ¬
# PowerShellç‰ˆæœ¬ - æ”¯æŒWindowsç¯å¢ƒ

Write-Host "å¼€å§‹éƒ¨ç½²è®¡ç®—æœºè§†è§‰å°é¼ ç®¡ç†ç³»ç»Ÿ..." -ForegroundColor Green

# æ£€æŸ¥Dockerå’ŒDocker Compose
try {
    docker --version | Out-Null
    Write-Host "âœ“ Dockerå·²å®‰è£…" -ForegroundColor Green
} catch {
    Write-Host "âœ— é”™è¯¯: Dockeræœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker Desktop" -ForegroundColor Red
    exit 1
}

try {
    docker-compose --version | Out-Null
    Write-Host "âœ“ Docker Composeå·²å®‰è£…" -ForegroundColor Green
} catch {
    Write-Host "âœ— é”™è¯¯: Docker Composeæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker Compose" -ForegroundColor Red
    exit 1
}

# åˆ›å»ºå¿…è¦çš„ç›®å½•
Write-Host "åˆ›å»ºæ•°æ®ç›®å½•..." -ForegroundColor Yellow
$directories = @(
    "data\mysql",
    "data\redis", 
    "data\minio",
    "data\videos",
    "data\logs",
    "data\config",
    "sql"
)

foreach ($dir in $directories) {
    if (!(Test-Path $dir)) {
        New-Item -ItemType Directory -Path $dir -Force | Out-Null
        Write-Host "  åˆ›å»ºç›®å½•: $dir" -ForegroundColor Gray
    }
}

# åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨
Write-Host "åœæ­¢ç°æœ‰æœåŠ¡..." -ForegroundColor Yellow
docker-compose down

# æ„å»ºå¹¶å¯åŠ¨æœåŠ¡
Write-Host "æ„å»ºå¹¶å¯åŠ¨æœåŠ¡..." -ForegroundColor Yellow
docker-compose up -d --build

# ç­‰å¾…æœåŠ¡å¯åŠ¨
Write-Host "ç­‰å¾…æœåŠ¡å¯åŠ¨..." -ForegroundColor Yellow
Start-Sleep -Seconds 30

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
Write-Host "æ£€æŸ¥æœåŠ¡çŠ¶æ€..." -ForegroundColor Yellow
docker-compose ps

# æ˜¾ç¤ºè®¿é—®åœ°å€
Write-Host ""
Write-Host "=== éƒ¨ç½²å®Œæˆï¼===" -ForegroundColor Green
Write-Host "å‰ç«¯è®¿é—®åœ°å€: http://localhost" -ForegroundColor Cyan
Write-Host "åç«¯APIåœ°å€: http://localhost:8080" -ForegroundColor Cyan
Write-Host "MinIOæ§åˆ¶å°: http://localhost:9001" -ForegroundColor Cyan
Write-Host "CVATæ ‡æ³¨å·¥å…·: http://localhost:8081" -ForegroundColor Cyan
Write-Host ""
Write-Host "é»˜è®¤è´¦å·å¯†ç è¯·æŸ¥çœ‹docker-compose.ymlæ–‡ä»¶" -ForegroundColor Yellow
Write-Host "ç³»ç»Ÿåˆå§‹åŒ–å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…" -ForegroundColor Yellow
```

#### 5.3.2 Linuxéƒ¨ç½²è„šæœ¬ (deploy.sh)
```bash
#!/bin/bash

# è®¡ç®—æœºè§†è§‰å°é¼ ç®¡ç†ç³»ç»Ÿä¸€é”®éƒ¨ç½²è„šæœ¬
# Linuxç‰ˆæœ¬

echo "å¼€å§‹éƒ¨ç½²è®¡ç®—æœºè§†è§‰å°é¼ ç®¡ç†ç³»ç»Ÿ..."

# æ£€æŸ¥Dockerå’ŒDocker Compose
if ! command -v docker &> /dev/null; then
    echo "é”™è¯¯: Dockeræœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker"
    exit 1
fi

if ! command -v docker-compose &> /dev/null; then
    echo "é”™è¯¯: Docker Composeæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker Compose"
    exit 1
fi

# åˆ›å»ºå¿…è¦çš„ç›®å½•
echo "åˆ›å»ºæ•°æ®ç›®å½•..."
mkdir -p data/{mysql,redis,minio,videos,logs,config}
mkdir -p sql

# åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨
echo "åœæ­¢ç°æœ‰æœåŠ¡..."
docker-compose down

# æ„å»ºå¹¶å¯åŠ¨æœåŠ¡
echo "æ„å»ºå¹¶å¯åŠ¨æœåŠ¡..."
docker-compose up -d --build

# ç­‰å¾…æœåŠ¡å¯åŠ¨
echo "ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 30

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo "æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
docker-compose ps

# æ˜¾ç¤ºè®¿é—®åœ°å€
echo ""
echo "=== éƒ¨ç½²å®Œæˆï¼==="
echo "å‰ç«¯è®¿é—®åœ°å€: http://localhost"
echo "åç«¯APIåœ°å€: http://localhost:8080"
echo "MinIOæ§åˆ¶å°: http://localhost:9001"
echo "CVATæ ‡æ³¨å·¥å…·: http://localhost:8081"
echo ""
echo "é»˜è®¤è´¦å·å¯†ç è¯·æŸ¥çœ‹docker-compose.ymlæ–‡ä»¶"
echo "ç³»ç»Ÿåˆå§‹åŒ–å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…"
```

## 6. æ€§èƒ½æŒ‡æ ‡

### 6.1 ç³»ç»Ÿæ€§èƒ½è¦æ±‚

#### 6.1.1 è®¡ç®—æœºè§†è§‰æ€§èƒ½
- **è§†é¢‘å¤„ç†**: 30fpså®æ—¶å¤„ç†ï¼Œæ”¯æŒ1080påˆ†è¾¨ç‡
- **ç›®æ ‡æ£€æµ‹**: <50mså»¶è¿Ÿï¼Œæ£€æµ‹ç²¾åº¦>95%
- **è¡Œä¸ºè¯†åˆ«**: <100mså»¶è¿Ÿï¼Œè¯†åˆ«ç²¾åº¦>90%
- **å¤šç›®æ ‡è¿½è¸ª**: åŒæ—¶è¿½è¸ª20åªå°é¼ ï¼Œè¿½è¸ªå‡†ç¡®ç‡>95%
- **äºŒç»´ç è¯†åˆ«**: <30msè¯†åˆ«å»¶è¿Ÿï¼Œè¯†åˆ«æˆåŠŸç‡>99%

#### 6.1.2 ç³»ç»Ÿå¹¶å‘æ€§èƒ½
- **è®¾å¤‡æ¥å…¥**: æ”¯æŒ50ä¸ªé‡‡é›†ç«¯åŒæ—¶æ¥å…¥
- **ç”¨æˆ·å¹¶å‘**: æ”¯æŒ100ä¸ªç”¨æˆ·åŒæ—¶åœ¨çº¿
- **APIå“åº”**: å¹³å‡å“åº”æ—¶é—´<200ms
- **WebSocketè¿æ¥**: æ”¯æŒ1000ä¸ªå¹¶å‘è¿æ¥
- **æ•°æ®å¤„ç†**: æ¯ç§’å¤„ç†10000æ¡è¡Œä¸ºæ•°æ®

#### 6.1.3 å­˜å‚¨æ€§èƒ½
- **æ•°æ®å­˜å‚¨**: æ”¯æŒPBçº§æ•°æ®å­˜å‚¨
- **è§†é¢‘å­˜å‚¨**: æ”¯æŒ10TB/å¤©çš„è§†é¢‘æ•°æ®
- **æ•°æ®å¤‡ä»½**: æ”¯æŒå¢é‡å¤‡ä»½å’Œå…¨é‡å¤‡ä»½
- **æ•°æ®æŸ¥è¯¢**: å¤æ‚æŸ¥è¯¢å“åº”æ—¶é—´<3ç§’

### 6.2 ç¡¬ä»¶é…ç½®å»ºè®®

#### 6.2.1 é‡‡é›†ç«¯é…ç½®
**åŸºç¡€é…ç½®:**
- **CPU**: Intel i5-10400æˆ–AMD Ryzen 5 3600ä»¥ä¸Š
- **GPU**: NVIDIA GTX 1660 Superæˆ–ä»¥ä¸Š(æ”¯æŒCUDA 11.0+)
- **å†…å­˜**: 16GB DDR4
- **å­˜å‚¨**: 256GB SSD + 1TB HDD
- **æ‘„åƒå¤´**: 1080p@30fpsï¼Œæ”¯æŒUSB 3.0

**æ¨èé…ç½®:**
- **CPU**: Intel i7-11700æˆ–AMD Ryzen 7 5700X
- **GPU**: NVIDIA RTX 3060æˆ–ä»¥ä¸Š
- **å†…å­˜**: 32GB DDR4
- **å­˜å‚¨**: 512GB NVMe SSD + 2TB HDD
- **æ‘„åƒå¤´**: 4K@30fpsï¼Œæ”¯æŒUSB 3.1

#### 6.2.2 æœåŠ¡ç«¯é…ç½®
**æœ€å°é…ç½®:**
- **CPU**: Intel Xeon E-2236æˆ–AMD EPYC 7232P
- **å†…å­˜**: 32GB ECC DDR4
- **å­˜å‚¨**: 1TB NVMe SSD + 4TB HDD
- **ç½‘ç»œ**: åƒå…†ä»¥å¤ªç½‘

**æ¨èé…ç½®:**
- **CPU**: Intel Xeon Silver 4214æˆ–AMD EPYC 7402P
- **å†…å­˜**: 64GB ECC DDR4
- **å­˜å‚¨**: 2TB NVMe SSD + 20TB HDD RAID5
- **ç½‘ç»œ**: ä¸‡å…†ä»¥å¤ªç½‘

**é«˜æ€§èƒ½é…ç½®:**
- **CPU**: Intel Xeon Gold 6248æˆ–AMD EPYC 7542
- **å†…å­˜**: 128GB ECC DDR4
- **å­˜å‚¨**: 4TB NVMe SSD + 100TB HDD RAID6
- **ç½‘ç»œ**: ä¸‡å…†ä»¥å¤ªç½‘ + å…‰çº¤è¿æ¥

## 7. å®‰å…¨è®¾è®¡

### 7.1 èº«ä»½è®¤è¯ä¸æˆæƒ

#### 7.1.1 å¤šå±‚è®¤è¯æœºåˆ¶
- **JWT Tokenè®¤è¯**: æ”¯æŒè®¿é—®ä»¤ç‰Œå’Œåˆ·æ–°ä»¤ç‰Œ
- **åŒå› å­è®¤è¯**: æ”¯æŒçŸ­ä¿¡éªŒè¯ç å’Œé‚®ç®±éªŒè¯
- **è®¾å¤‡æŒ‡çº¹è¯†åˆ«**: é˜²æ­¢å¼‚å¸¸è®¾å¤‡è®¿é—®
- **ä¼šè¯ç®¡ç†**: æ”¯æŒå•ç‚¹ç™»å½•å’Œå¼ºåˆ¶ä¸‹çº¿

#### 7.1.2 æƒé™æ§åˆ¶ç³»ç»Ÿ
- **RBACæƒé™æ¨¡å‹**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **ç»†ç²’åº¦æƒé™**: æ”¯æŒåŠŸèƒ½çº§å’Œæ•°æ®çº§æƒé™æ§åˆ¶
- **æƒé™ç»§æ‰¿**: æ”¯æŒè§’è‰²æƒé™ç»§æ‰¿å’Œç»„åˆ
- **åŠ¨æ€æƒé™**: æ”¯æŒè¿è¡Œæ—¶æƒé™è°ƒæ•´

#### 7.1.3 APIå®‰å…¨é˜²æŠ¤
- **è®¿é—®é™æµ**: åŸºäºIPå’Œç”¨æˆ·çš„è¯·æ±‚é¢‘ç‡é™åˆ¶
- **APIç­¾åéªŒè¯**: é˜²æ­¢APIè°ƒç”¨ç¯¡æ”¹
- **ç™½åå•æœºåˆ¶**: é™åˆ¶å¯è®¿é—®çš„IPåœ°å€èŒƒå›´
- **è¯·æ±‚åŠ å¯†**: æ•æ„ŸAPIè¯·æ±‚å†…å®¹åŠ å¯†ä¼ è¾“

### 7.2 æ•°æ®å®‰å…¨ä¿æŠ¤

#### 7.2.1 æ•°æ®åŠ å¯†å­˜å‚¨
- **æ•°æ®åº“åŠ å¯†**: æ•æ„Ÿå­—æ®µAES-256åŠ å¯†å­˜å‚¨
- **æ–‡ä»¶åŠ å¯†**: è§†é¢‘æ–‡ä»¶å’Œå›¾ç‰‡æ–‡ä»¶åŠ å¯†å­˜å‚¨
- **å¯†é’¥ç®¡ç†**: é‡‡ç”¨å¯†é’¥è½®æ¢å’Œåˆ†çº§ç®¡ç†
- **ä¼ è¾“åŠ å¯†**: å…¨ç«™HTTPS/WSSåŠ å¯†ä¼ è¾“

#### 7.2.2 äºŒç»´ç å®‰å…¨ç®¡ç†
- **äºŒç»´ç å†…å®¹åŠ å¯†**: äºŒç»´ç å†…å®¹é‡‡ç”¨AESåŠ å¯†
- **æ—¶æ•ˆæ€§æ§åˆ¶**: äºŒç»´ç æ”¯æŒè¿‡æœŸæ—¶é—´è®¾ç½®
- **æ‰«ææ¬¡æ•°é™åˆ¶**: é˜²æ­¢äºŒç»´ç è¢«æ¶æ„æ‰«æ
- **æ‰«ææ—¥å¿—è®°å½•**: è¯¦ç»†è®°å½•æ¯æ¬¡æ‰«æè¡Œä¸º

#### 7.2.3 æ•°æ®å¤‡ä»½ä¸æ¢å¤
- **è‡ªåŠ¨å¤‡ä»½**: æ”¯æŒå®šæ—¶å…¨é‡å’Œå¢é‡å¤‡ä»½
- **å¼‚åœ°å¤‡ä»½**: æ”¯æŒå¤šåœ°å¤‡ä»½å­˜å‚¨
- **å¤‡ä»½åŠ å¯†**: å¤‡ä»½æ–‡ä»¶é‡‡ç”¨å¼ºåŠ å¯†ç®—æ³•
- **å¿«é€Ÿæ¢å¤**: æ”¯æŒåˆ†é’Ÿçº§æ•°æ®æ¢å¤

### 7.3 ç½‘ç»œå®‰å…¨é˜²æŠ¤

#### 7.3.1 ç½‘ç»œè¾¹ç•Œé˜²æŠ¤
- **é˜²ç«å¢™é…ç½®**: ä¸¥æ ¼çš„å…¥ç«™å’Œå‡ºç«™è§„åˆ™
- **DDoSé˜²æŠ¤**: åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»é˜²æŠ¤
- **å…¥ä¾µæ£€æµ‹**: å®æ—¶ç½‘ç»œå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ
- **æµé‡ç›‘æ§**: å¼‚å¸¸æµé‡å®æ—¶å‘Šè­¦

#### 7.3.2 åº”ç”¨å®‰å…¨é˜²æŠ¤
- **SQLæ³¨å…¥é˜²æŠ¤**: å‚æ•°åŒ–æŸ¥è¯¢å’Œè¾“å…¥éªŒè¯
- **XSSæ”»å‡»é˜²æŠ¤**: è¾“å‡ºç¼–ç å’ŒCSPç­–ç•¥
- **CSRFé˜²æŠ¤**: TokenéªŒè¯å’ŒåŒæºæ£€æŸ¥
- **æ–‡ä»¶ä¸Šä¼ å®‰å…¨**: æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶

#### 7.3.3 è¿ç»´å®‰å…¨ç®¡ç†
- **VPNè®¿é—®æ§åˆ¶**: ç®¡ç†å‘˜è¿œç¨‹è®¿é—®VPN
- **æ“ä½œå®¡è®¡**: è¯¦ç»†çš„æ“ä½œæ—¥å¿—è®°å½•
- **å®‰å…¨æ‰«æ**: å®šæœŸå®‰å…¨æ¼æ´æ‰«æ
- **åº”æ€¥å“åº”**: å®‰å…¨äº‹ä»¶åº”æ€¥å¤„ç†æµç¨‹

### 7.4 åˆè§„æ€§è¦æ±‚

#### 7.4.1 æ•°æ®ä¿æŠ¤åˆè§„
- **ä¸ªäººä¿¡æ¯ä¿æŠ¤**: ç¬¦åˆä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•è¦æ±‚
- **æ•°æ®æœ€å°åŒ–**: ä»…æ”¶é›†å¿…è¦çš„æ•°æ®ä¿¡æ¯
- **æ•°æ®åˆ é™¤**: æ”¯æŒæ•°æ®åˆ é™¤å’ŒåŒ¿ååŒ–
- **éšç§æ”¿ç­–**: æ˜ç¡®çš„éšç§ä¿æŠ¤æ”¿ç­–

#### 7.4.2 å®éªŒåŠ¨ç‰©ç®¡ç†åˆè§„
- **å®éªŒè®°å½•**: å®Œæ•´çš„å®éªŒè¿‡ç¨‹è®°å½•
- **åŠ¨ç‰©ç¦åˆ©**: ç¬¦åˆå®éªŒåŠ¨ç‰©ç¦åˆ©è¦æ±‚
- **æ•°æ®æº¯æº**: æ”¯æŒå®éªŒæ•°æ®å®Œæ•´æº¯æº
- **ç›‘ç®¡æŠ¥å‘Š**: æ”¯æŒç›‘ç®¡éƒ¨é—¨æ•°æ®æŠ¥å‘Š